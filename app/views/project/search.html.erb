<h1>Search for some Projects</h1>

<%= render "searchable/search" %>

<ul>
  <% if @results != nil %>
    <table class="table table-striped table-hover">
      <tr>
        <th>Kursname</th>
        <th>Beschreibung</th>
        <th>Anzeigen</th>
        <th>Favoriten</th>
      </tr>
      <% @results.each do |project| %>
        <tr>
          <td><%= project["title"] %></td>
          <td><%= project["short"] %></td>
          <td><%= link_to "details", controller: "project", action: "detail", id: ProjectController.get_project_id_from_url(project["detail_url"]) %></td>
          <td>
            <% if @favorite_ids.include? ProjectController.get_project_id_from_url(project["detail_url"]) %>
              <%= link_to "unfavorite", deletefavorite_path(:project, ProjectController.get_project_id_from_url(project["detail_url"])), method: :delete %>
            <% else %>
              <%= link_to "favorite", controller: "favorites", action: "create", object_type: :project, tiss_id: ProjectController.get_project_id_from_url(project["detail_url"]) %>
            <% end %>
          </td>
        </tr>
      <% end %>
    </table>
  <% end %>
</ul>